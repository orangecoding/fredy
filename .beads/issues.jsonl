{"id":"fredy-ch-08j","title":"Set up PR workflow and branch protection","description":"Configure protected main branch workflow:\n\n1. Update CLAUDE.md with PR workflow requirement (like RewardStack2)\n2. Protect main branch on GitHub (require PRs)\n3. Create dedicated beads-sync branch for bd sync commits\n4. Update beads workflow to sync to beads-sync branch instead of main","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T16:35:22.953415+01:00","created_by":"gabko14","updated_at":"2026-01-11T17:30:39.357672+01:00","closed_at":"2026-01-11T17:30:39.357672+01:00","close_reason":"PR merged, branch protection and beads-sync workflow in place"}
{"id":"fredy-ch-3v3","title":"Remove or disable German providers","description":"Clean up German providers that are not relevant for Swiss fork.\n\nCurrent German providers to handle:\n- immoscout.js (German ImmoScout24.de)\n- immowelt.js\n- immonet.js\n- kleinanzeigen.js (eBay Kleinanzeigen Germany)\n- wgGesucht.js\n- sparkasse.js\n- mcMakler.js\n- neubauKompass.js\n- regionalimmobilien24.js\n- immoswp.js\n- einsAImmobilien.js\n- immobilienDe.js\n- ohneMakler.js\n\nAlso handle:\n- German test files in test/provider/*.test.js\n- German URLs in test/provider/testProvider.json\n- Any German-specific documentation\n\nOptions:\n1. Delete files entirely (clean but loses reference)\n2. Move to lib/provider/deprecated/ (keeps for reference)\n3. Add 'enabled: false' flag (keeps working but hidden)\n\nRecommendation: Option 2 - move to deprecated folder. Keeps code as reference patterns.\n\n‚è±Ô∏è TIMING: Do this AFTER at least one Swiss provider works, so we can reference German code during development.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-08T21:46:09.2769769+01:00","created_by":"GLi","updated_at":"2026-01-11T16:18:26.722325+01:00","closed_at":"2026-01-11T16:18:26.722325+01:00","close_reason":"German providers moved to deprecated folder, Swiss providers (flatfox, immoscout24ch) remain active"}
{"id":"fredy-ch-5ca","title":"Set up GitHub-based deployment for Railway","description":"Currently using 'railway up' which uploads directly. Connecting Railway to GitHub would auto-deploy on push and be cleaner CI/CD.","status":"open","priority":3,"issue_type":"chore","created_at":"2026-01-11T16:32:18.11299+01:00","created_by":"gabko14","updated_at":"2026-01-11T16:32:18.11299+01:00"}
{"id":"fredy-ch-5r8","title":"Fix ImmoScout24.ch URL construction for non-flat property types","description":"The ImmoScout24.ch provider hardcodes 'flat' in listing URLs:\n\n```javascript\nconst link = `https://www.immoscout24.ch/en/d/flat-${offerType}-${locality}/${listingId}`;\n```\n\nThis breaks for houses, commercial properties, parking spaces, etc. The URL will 404 for non-flat listings.\n\n**Fix options:**\n1. Use the actual property type from `listing.categories[]` (APARTMENT, HOUSE, PARKING, etc.)\n2. Use a simpler URL format that works for all types: `/en/d/${offerType}/${listingId}`\n\nThe categories array from __INITIAL_STATE__ contains values like `[\"APARTMENT\", \"FLAT\"]` which could map to URL segments.\n\n**Location:** `lib/provider/immoscout24ch.js` line ~104 in `transformListing()`","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T18:01:27.924283+01:00","created_by":"gabko14","updated_at":"2026-01-11T18:05:48.954793+01:00","closed_at":"2026-01-11T18:05:48.954793+01:00","close_reason":"Fixed in PR #4 - added getPropertyTypeSlug() and sanitizeLocality() with 31 unit tests"}
{"id":"fredy-ch-6qx","title":"Implement anibis.ch provider (free classifieds)","description":"Create a provider for anibis.ch, Switzerland's free classifieds platform (owned by SMG).\n\nGood for bargain hunting because:\n- Free to list = more private landlords\n- Less commercial than Homegate/ImmoScout\n- ~68,000+ listings across categories\n- Often has sublets and direct rentals\n\nTechnical notes:\n- SMG-owned (same parent as Homegate)\n- May have simpler HTML than major portals\n- Base URL: https://www.anibis.ch/de/immobilien","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-08T21:46:21.6191383+01:00","created_by":"GLi","updated_at":"2026-01-10T16:29:12.738084+01:00"}
{"id":"fredy-ch-7tj","title":"Add 2Captcha DataDome solver integration","description":"Integrate 2Captcha SDK for solving DataDome captchas. This is needed as a fallback when residential proxy alone isn't enough. Should detect captcha pages, send to 2Captcha API, and return solved cookies.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T00:52:29.579435+01:00","created_by":"gabko14","updated_at":"2026-01-11T02:16:35.630561+01:00","closed_at":"2026-01-11T02:16:35.630561+01:00","close_reason":"2Captcha DataDome solver integration complete. Added dataDomeSolver.js service, integrated into puppeteerExtractor, and added UI for API key configuration. Ready for testing."}
{"id":"fredy-ch-8hd","title":"Set up Playwright MCP for scraper development","description":"Set up Playwright MCP to enable interactive scraper development and testing.\n\nThis allows Claude to:\n- Open real websites (Flatfox, ImmoScout24.ch, etc.)\n- Inspect HTML structure and test CSS selectors live\n- Verify extraction logic before writing provider code\n- Debug scrapers interactively instead of blind coding\n\nCopy from Lebenslauf-Generator project:\n- Claude workflows and their configurations\n- Prompting patterns\n- Relevant CLAUDE.md sections\n- Playwright MCP config\n\nThis is a prerequisite for efficient scraper development - without it we're guessing at selectors.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:54:49.4163252+01:00","created_by":"GLi","updated_at":"2026-01-08T23:14:18.1512356+01:00","closed_at":"2026-01-08T23:14:18.1512356+01:00","close_reason":"Set up Playwright MCP: added .claude/settings.json, GitHub workflows (claude.yml, claude-code-review.yml), updated .gitignore and CLAUDE.md"}
{"id":"fredy-ch-cia","title":"Update ImmoScout24.ch provider with anti-bot bypass","description":"Update the existing immoscout24ch.js provider to use residential proxy + 2Captcha fallback for DataDome bypass. Extract listings from window.__INITIAL_STATE__. This depends on proxy and captcha solver being implemented first.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T00:52:30.55283+01:00","created_by":"gabko14","updated_at":"2026-01-11T17:36:23.924472+01:00","closed_at":"2026-01-11T17:36:23.924472+01:00","close_reason":"Updated ImmoScout24.ch provider to extract listings from window.__INITIAL_STATE__ instead of HTML scraping. This is more reliable and provides richer data. Includes full DataDome captcha handling with 2Captcha integration.","dependencies":[{"issue_id":"fredy-ch-cia","depends_on_id":"fredy-ch-kqw","type":"blocks","created_at":"2026-01-11T00:52:49.390809+01:00","created_by":"gabko14"},{"issue_id":"fredy-ch-cia","depends_on_id":"fredy-ch-7tj","type":"blocks","created_at":"2026-01-11T00:52:50.498556+01:00","created_by":"gabko14"}]}
{"id":"fredy-ch-cnp","title":"Research: RonOrp coverage for Bern area","description":"RESEARCH FIRST: Evaluate if RonOrp (ronorp.net) is worth implementing for Bern area.\n\nRonOrp is a Z√ºrich-based community marketplace. While it's a 'Geheimtipp' for early private listings in Z√ºrich, we need to verify:\n\nQuestions to answer BEFORE implementing:\n1. Does RonOrp have meaningful Bern coverage? (It's Z√ºrich-focused)\n2. How many Bern-area listings exist?\n3. Are listings actually posted here before major portals?\n4. Is the effort worth it for limited geographic coverage?\n\nIf research shows poor Bern coverage: CLOSE this issue.\nIf research shows good coverage: Convert to feature and implement.\n\nTechnical notes (if we proceed):\n- Likely static HTML (simpler than SMG portals)\n- Base URL: https://www.ronorp.net","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-08T21:45:55.5284251+01:00","created_by":"GLi","updated_at":"2026-01-08T21:57:11.5894593+01:00"}
{"id":"fredy-ch-dg6","title":"Implement Newhome.ch provider","description":"Create a provider for Newhome.ch, owned by Swiss Kantonalbanken and AXA. Often has exclusive listings from cantonal banks that don't appear on SMG platforms.\n\nLower priority because:\n- Smaller inventory than big 3\n- May have significant overlap\n- But worth having for exclusive Kantonalbank properties\n\nTechnical notes:\n- Requires JavaScript rendering\n- Base URL: https://www.newhome.ch","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-08T21:45:42.4821617+01:00","created_by":"GLi","updated_at":"2026-01-08T21:45:42.4821617+01:00"}
{"id":"fredy-ch-epl","title":"Change default admin password on production","status":"open","priority":1,"issue_type":"chore","created_at":"2026-01-11T16:28:57.722183+01:00","created_by":"gabko14","updated_at":"2026-01-11T16:28:57.722183+01:00"}
{"id":"fredy-ch-kqw","title":"Add residential proxy support to Fredy","description":"Add configuration option for residential proxy (URL format like http://user:pass@host:port). This is needed to bypass anti-bot protection on sites like ImmoScout24.ch. Integrate with existing puppeteerExtractor.js which already has proxyUrl support.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T00:52:28.440236+01:00","created_by":"gabko14","updated_at":"2026-01-11T02:09:21.253134+01:00","closed_at":"2026-01-11T02:09:21.253134+01:00","close_reason":"Residential proxy support implemented and verified working. Traffic routes through DataImpulse proxy (confirmed IP 194.230.147.57). DataDome still shows captcha challenge - requires 2Captcha integration (fredy-ch-7tj) to complete bypass."}
{"id":"fredy-ch-lqp","title":"Implement Flatfox.ch provider","description":"Create a provider for Flatfox.ch, a Swiss real estate platform owned by SMG. Flatfox is FREE for landlords to list, which means it often has unique private listings that don't appear on paid platforms like Homegate/ImmoScout24.\n\nüéØ RECOMMENDED FIRST: Start with Flatfox because it's reportedly scraper-friendly. Success here validates our approach for other SMG portals.\n\nTarget: Rental apartments in Switzerland (focus on Bern area initially).\n\nTechnical notes:\n- Likely requires JavaScript rendering (Puppeteer)\n- SMG-owned, so patterns may transfer to ImmoScout24.ch/Homegate\n- Base URL: https://www.flatfox.ch\n\n‚ö†Ô∏è Risks to watch:\n- SMG may have bot detection across portals (German ImmoScout24.de did)\n- If blocked, may need to investigate API or adjust approach\n\nTesting:\n- Capture sample HTML responses for test mocks\n- Reference existing German provider tests for patterns (e.g., test/provider/immowelt.test.js)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T21:44:40.3561074+01:00","created_by":"GLi","updated_at":"2026-01-09T10:38:00.1896394+01:00","closed_at":"2026-01-09T10:38:00.1896394+01:00","close_reason":"Implemented Flatfox.ch provider using public API (pin + public-listing endpoints). Test passes with 100 listings."}
{"id":"fredy-ch-o2w","title":"Implement Homegate.ch provider","description":"Create a provider for Homegate.ch, Switzerland's market leader in real estate with ~9 million visits/month and ~35,000-45,000 active listings.\n\n‚ö†Ô∏è EXPECTED OVERLAP: Homegate is owned by SMG (same as ImmoScout24.ch and Flatfox). Professional landlords use SMG's Business Manager to post to ALL THREE platforms simultaneously. Expect 60-80% duplicate listings with ImmoScout24.ch.\n\nWhy implement anyway:\n- Fredy's similarity-check handles deduplication\n- Some landlords may only post on Homegate\n- Completeness for users who want maximum coverage\n- P2 priority reflects this 'nice to have' status\n\nTechnical notes:\n- Requires JavaScript rendering (Puppeteer)\n- Similar structure to other SMG portals (may share patterns with Flatfox/ImmoScout24.ch)\n- Base URL: https://www.homegate.ch","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T21:45:30.8731736+01:00","created_by":"GLi","updated_at":"2026-01-08T21:56:50.5077766+01:00"}
{"id":"fredy-ch-q0p","title":"Implement ImmoScout24.ch provider","description":"Create a provider for ImmoScout24.ch, Switzerland's largest real estate platform.\n\nIMPORTANT: Swiss ImmoScout24.ch (SMG) is a COMPLETELY DIFFERENT company from German ImmoScout24.de (Scout24 SE). They share no code, APIs, or infrastructure. Do NOT assume German patterns will work.\n\nImmoScout24.ch is owned by SMG Swiss Marketplace Group and has ~40,000-50,000 active listings nationally.\n\nTechnical approach:\n- Start with HTML scraping via Puppeteer (proven approach)\n- Investigate if any public API exists (unlikely, but check)\n- Use German provider only as structural reference for Fredy patterns, NOT for site-specific logic\n- Base URL: https://www.immoscout24.ch","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T21:45:20.2028264+01:00","created_by":"GLi","updated_at":"2026-01-10T18:15:02.407385+01:00","closed_at":"2026-01-10T18:15:02.407385+01:00","close_reason":"Implemented ImmoScout24.ch provider with HTML scraping. Provider uses CSS selectors to extract listings. Note: Site has DataDome bot protection that blocks headless browsers in CI, so test is excluded from testGH."}
{"id":"fredy-ch-w7l","title":"Fix job card button overflow on Jobs page","description":"The action buttons at the bottom of job cards are getting cut off/clipped when the card width is narrow. The fourth button (delete) is partially hidden. Need to improve responsive layout - either wrap buttons to multiple rows, use smaller buttons on narrow screens, or ensure minimum card width accommodates all buttons.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T17:31:46.363482+01:00","created_by":"gabko14","updated_at":"2026-01-10T17:41:28.522103+01:00","closed_at":"2026-01-10T17:41:28.522103+01:00","close_reason":"Fixed button overflow by adding flex-wrap: wrap and justify-content: center to .jobGrid__actions"}
{"id":"fredy-ch-wsp","title":"Sanitize locality in ImmoScout24.ch listing URLs","description":"The ImmoScout24.ch provider uses `address.locality` directly in URLs without sanitization:\n\n```javascript\nconst link = `...flat-rent-${address.locality?.toLowerCase() || 'switzerland'}/...`;\n```\n\nIf locality contains spaces or special characters (e.g., \"Z√ºrich HB\", \"St. Gallen\"), the URL becomes malformed and will 404.\n\n**Fix:**\n```javascript\nconst locality = (address.locality || 'switzerland')\n  .toLowerCase()\n  .replace(/[^a-z0-9]+/g, '-')  // Replace non-alphanumeric with dashes\n  .replace(/^-|-$/g, '');        // Trim leading/trailing dashes\n```\n\n**Location:** `lib/provider/immoscout24ch.js` line ~104 in `transformListing()`","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T18:01:29.019511+01:00","created_by":"gabko14","updated_at":"2026-01-11T18:05:48.95863+01:00","closed_at":"2026-01-11T18:05:48.95863+01:00","close_reason":"Fixed in PR #4 - added getPropertyTypeSlug() and sanitizeLocality() with 31 unit tests"}
{"id":"fredy-ch-z4i","title":"Research: Swiss housing cooperatives (Genossenschaften)","description":"Investigate feasibility of monitoring Swiss housing cooperatives (Wohnbaugenossenschaften) and municipal housing.\n\nWhy this matters:\n- Genossenschaften offer 20-30% CHEAPER rents than market\n- Municipal housing also often below market rate\n- Often overlooked by apartment hunters\n- Not on major portals\n\n‚ö†Ô∏è CRITICAL QUESTION: Model compatibility\nMost operate on WAITING LISTS, not real-time vacancy listings:\n- You register, wait months/years, then get offered something\n- This may NOT fit Fredy's 'alert on new listings' model\n- Research must determine if any post real-time vacancies\n\nBern cooperatives to investigate:\n- EBG Bern (ebgbern.ch) - 700+ units, largest in Bern\n- Pro Domo Bern (wbgprodomo.ch) - 345 units\n- Baugenossenschaft Berna - ~200 units\n- WOGENO Bern (wogeno-bern.ch)\n\nAlso check municipal housing:\n- Stadt Bern (bern.ch/themen/wohnen/mietobjekte) - city-owned housing\n\nQuestions to answer:\n1. Do they post real-time vacancies? Or just waiting list registration?\n2. How often do new listings appear?\n3. Is scraping feasible (simple HTML vs login-required)?\n4. Would alerts even help if waiting list is the model?\n\nLIKELY OUTCOME: May not be suitable for Fredy. But worth verifying.","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-08T21:46:38.6186656+01:00","created_by":"GLi","updated_at":"2026-01-08T21:56:36.5288826+01:00"}
